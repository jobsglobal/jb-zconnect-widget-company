!function(e,t){"use strict";angular.module("jb-zconnect-widget-company",["adf.provider","nvd3","ngDropzone","slick","ngSanitize","angular-timeline","angularMoment","ngAnimate","ngFileUpload","ngResource","angular-underscore","ngZconnected"]).config(["dashboardProvider",function(e){Dropzone.autoDiscover=!1;var t={height:225,_DEBUG:!1},o={collapse:!1,frameless:!1,styleClass:"",reload:!0,resolve:{}};e.widget("general-stats",angular.extend(o,{title:"Company General Stats",description:"Widget for showing general information for company.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/general-stats.html",controller:"GeneralStatsCtrl",controllerAs:"generalStats",styleClass:"general-stats",config:angular.extend(t,{})})).widget("top-jobs",angular.extend(o,{title:"Company Top Jobs",description:"Widget for showing most applied jobs from company.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/top-jobs.html",controller:"TopJobsCtrl",controllerAs:"topJobs",styleClass:"top-jobs",config:angular.extend(t,{})})).widget("drop-cv",angular.extend(o,{title:"Company CV Dropzone",description:"Widget that provides a dropzone area for uploading applicants cv.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/drop-cv.html",controller:"DropCvCtrl",controllerAs:"dropCv",styleClass:"drop-cv",reload:!1,config:angular.extend(t,{})})).widget("ads",angular.extend(o,{title:"Advertisements",description:"Widget that shows advertisements.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/ads.html",controller:"AdsCtrl",controllerAs:"ads",styleClass:"ads",config:angular.extend(t,{})})).widget("timeline",angular.extend(o,{title:"Timeline",description:"Widget that shows company timeline/activities.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/timeline.html",controller:"TimelineCtrl",controllerAs:"timeline",styleClass:"timeline",config:angular.extend(t,{})})).widget("job-post-form",angular.extend(o,{title:"Job Post",description:"Widget that shows a form for job posting.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/job-post.html",controller:"JobPostCtrl",controllerAs:"jobPost",styleClass:"job-post-form",config:angular.extend(t,{})})).widget("applicant-stats",angular.extend(o,{title:"Applicant Stats",description:"Widget that shows visual statistics for total applicants of company.",templateUrl:"{widgetsPath}/jb-zconnect-widget-company/src/templates/applicant-stats.html",controller:"ApplicantStatsCtrl",controllerAs:"applicantStats",styleClass:"applicant-stats",config:angular.extend(t,{})}))}]),angular.module("jb-zconnect-widget-company").run(["$templateCache",function(e){e.put("{widgetsPath}/jb-zconnect-widget-company/src/edit.html",'<form role=form><div class=form-group><label for=sample>Sample</label> <input type=text class=form-control id=sample ng-model=config.sample placeholder="Enter sample"></div></form>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/view.html","<div><h1>Widget view</h1><p>Content of {{config.sample}}</p></div>"),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/ads.html",'<div style="height: {{ads.config.height}}px !important"><slick slides-to-show=1 data=ads.list slides-to-scroll=1 autoplay=false autoplayspeed=2 arrows=true centermode=true dots=true init-onload=true><div data-ng-repeat="ad in ads.list" class="text-center container"><a data-ng-href={{ad.link}}><img class=img-responsive data-ng-src={{ad.image}} alt={{ad.title}}> <span class=ad-message>{{ad.message}}</span></a></div></slick></div>.widget'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/applicant-stats.html",'<div style="height: {{applicantStats.config.height}}px !important;overflow: auto"><nvd3 options=applicantStats.options data=applicantStats.data></nvd3></div>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/drop-cv.html",'<div style="height: {{dropCv.config.height}}px !important;"><form class=dropzone method=post enctype=multipart/form-data ng-dropzone dropzone=dropCv.dropzone dropzone-config=dropCv.dropzoneConfig event-handlers="{ \'addedfile\': dropCv.dzAddedFile, \'error\': dropCv.dzError }" style="min-height: {{dropCv.config.height}}px"><div class=dz-message>Drop CV here or click to upload</div></form></div>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/general-stats.html",'<div style="height: {{generalStats.config.height}}px !important;overflow: auto"><nvd3 options=generalStats.options data=generalStats.data></nvd3></div>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/job-post.html",'<div style="height: {{jobPost.config.height}}px !important;float: left;overflow: auto;width:100%"><div class="alert alert-success alert-jobpost" data-ng-if="jobPost.showMessage && !jobPost.hasError"><span data-ng-bind=jobPost.msg></span> <span data-ng-click=closeMessage() class=pull-right>x</span></div><div class="alert alert-success alert-jobpost" data-ng-if="jobPost.showMessage && jobPost.hasError"><span data-ng-bind=jobPost.msg></span> <span data-ng-click=closeMessage() class=pull-right>x</span></div><form class=form-horizontal name=jobPostForm data-ng-init=jobPost.addPosition() novalidate data-ng-submit=jobPost.saveJobPosts(jobPostForm)><div class=modal-body-save1><div class="col-lg-12 col-sm-12 col-xs-12 profile-tabs"><div class="col-lg-12 col-sm-12 col-xs-12"><h4 class="default_heading no-margin"><span>Work Information</span></h4></div><div class=addPosition data-ng-repeat="job in jobPost.newJobs"><div class="col-lg-12 col-sm-12 col-xs-12"><div class=row><div class="col-lg-6 col-sm-6 col-xs-12"><h6 class=default_label>Position<span class=require_star>*</span></h6><input id=title name=title{{$index}} type=text placeholder="" class="default_input_text title" data-ng-model=job.job_title data-ng-required=true data-ng-maxlength=125 maxlength=125> <span class=error-message data-ng-show="jobPostForm.title{{$index}}.$error.required && jobPostForm.title{{$index}}.$touched">Please specify position</span></div><div class="col-lg-6 col-sm-6 col-xs-12"><h6 class=default_label>Experience<span class=require_star>*</span></h6><div class="col-lg-12 col-sm-12 col-xs-12"><div class="row select-container"><select name=experience{{$index}} class="default_input_select yearsofexp" data-ng-model=job.experience data-ng-options="i as i for i in jobPost.expRange" data-ng-required=true><option value="" disabled selected>Select Experience</option></select><span class=arrow aria-hidden=true></span></div></div><span class=error-message data-ng-show="jobPostForm.experience{{$index}}.$error.required && jobPostForm.experience{{$index}}.$touched">Please specify experience.</span></div></div></div><div class="col-lg-12 col-sm-12 col-xs-12"><div class=row><div class="col-lg-3 col-sm-3 col-xs-12"><h6 class=default_label>Currency</h6><div class="col-lg-12 col-sm-12 col-xs-12"><div class="row select-container"><select name=currency{{$index}} class=default_input_select data-ng-model=job.currency data-ng-required="(job.salary> 0)" data-ng-options="currency.currency_code as currency.currency_code for currency in jobPost.currencies"><option disabled selected>Select currency</option></select><span class=arrow aria-hidden=true></span></div></div><span class=error-message data-ng-show="jobPostForm.currency{{$index}}.$error.required && jobPostForm.currency{{$index}}.$touched">Please specify currency.</span></div><div class="col-lg-3 col-sm-3 col-xs-12"><h6 class=default_label>Salary</h6><input name=salary{{$index}} type=number value=0 class="default_input_text salary" data-ng-model=job.salary></div><div class="col-lg-4 col-sm-3 col-xs-6"><h6 class=default_label>Upload Photo</h6><div class="button company_reg_btn_set" data-ng-model=job.image data-name=image{{$index}} data-ngf-pattern="\'image/*\'" data-ngf-accept="\'image/*\'" data-ngf-max-size=5MB data-ngf-min-height=100 data-ngf-min-width=100 data-ngf-max-height=2160 data-ngf-max-width=2160 data-ngf-fix-orientation=true data-ngf-resize=jobPost.resizeOptions($file) data-ngf-resize-if="$width > 1024 || $height > 1024" data-ngf-select><button type=button class=company_file_select>Select Cover Photo</button></div></div><div class="col-lg-2 col-sm-3 col-xs-6"><img data-ngf-thumbnail=job.image class=job_post_img></div></div></div><div class="col-lg-12 col-sm-12 col-xs-12"><div class=row><div class="col-lg-6 col-sm-6 col-xs-12"><h6 class=default_label>Job Details<span class=require_star>*</span></h6><textarea class="default_input_textarea details" name=details{{$index}} data-ng-model=job.job_description maxlength=5000 data-ng-required=true></textarea> <span class=error-message data-ng-show="jobPostForm.details{{$index}}.$error.required && jobPostForm.details{{$index}}.$touched">Please specify details.</span></div><div class="col-lg-6 col-sm-6 col-xs-12"><h6 class=default_label>Url</h6><p title="Generated url" data-ng-bind=job.fullUrl class=job-url></p></div></div></div><div class="col-lg-12 col-sm-12 col-xs-12"><a data-ng-click=jobPost.addPosition(jobPostForm)>Add Position</a></div></div><div class="col-lg-12 col-sm-12 col-xs-12"><h4 class="default_heading modal_jobpost_head"><span>Location</span></h4></div><div class="col-lg-12 col-sm-12 col-xs-12"><div class=row><div class="col-lg-6 col-sm-6 col-xs-12"><h6 class=default_label>Industry<span class=require_star>*</span></h6><div class="col-lg-12 col-sm-12 col-xs-12"><div class="row select-container"><select name=industry class=default_input_select data-ng-options="industry.description for industry in jobPost.industries" data-ng-model=jobPost.jobsLocation.industry data-ng-required=true><option disabled selected>Select Industry</option></select><span class=arrow aria-hidden=true></span></div></div><span class=error-message data-ng-show="jobPostForm.industry.$error.required && jobPostForm.industry.$touched">Please specify industry.</span></div><div class="col-lg-6 col-sm-6 col-xs-12"><h6 class=default_label>Country<span class=require_star>*</span></h6><div class="col-lg-12 col-sm-12 col-xs-12"><div class="row select-container"><select name=country data-ng-model=jobPost.jobsLocation.country class=default_input_select data-ng-options="country as country.nicename for country in jobPost.countries" data-ng-change=jobPost.getStates(jobPost.jobsLocation.country) data-ng-required=true><option disabled selected>Select Country</option></select><span class=arrow aria-hidden=true></span></div></div><span class=error-message data-ng-show="jobPostForm.country.$error.required && jobPostForm.country.$touched">Please specify country.</span></div></div></div><div class="col-lg-12 col-sm-12 col-xs-12"><div class=row><div class="col-lg-6 col-sm-6 col-xs-12 state" data-ng-show="jobPost.jobsLocation.country && jobPost.states.length > 0"><h6 class=default_label>State<span class=require_star>*</span></h6><div class="col-lg-12 col-sm-12 col-xs-12"><div class="row select-container"><select name=state class=default_input_select data-ng-model=jobPost.jobsLocation.state data-ng-change=jobPost.getCities(jobPost.jobsLocation.state) data-ng-required="jobPost.states && jobPost.states.length" data-ng-options="state as state.name for state in jobPost.states"><option disabled selected>Select State</option></select><span class=arrow aria-hidden=true></span></div></div></div><div class="col-lg-6 col-sm-6 col-xs-12 cityDv" data-ng-show="jobPost.jobsLocation.state && jobPost.cities.length > 0"><h6 class=default_label>City</h6><div class="col-lg-12 col-sm-12 col-xs-12"><div class="row select-container"><select name=city class=default_input_select data-ng-model=jobPost.jobsLocation.city data-ng-required="jobPost.cities && jobPost.cities.length" data-ng-options="city as city.name for city in jobPost.cities"><option disabled selected>Select City</option></select></div></div><span class=arrow aria-hidden=true></span> <span class=error-message data-ng-show="jobPostForm.city.$error.required && jobPostForm.city.$touched">Please specify city.</span></div></div></div></div><div class="col-lg-12 col-sm-12 col-xs-12"><button type=submit class=modal_job_post_submit>Post</button> <button type=button id=closeSaveBtn class=modal_job_post_cancel data-dismiss=modal data-ng-click=jobPost.cancelJobPost()>Cancel</button></div><div class=zloader data-ng-show=jobPost.loader><div class=sk-circle><div class="sk-circle1 sk-child"></div><div class="sk-circle2 sk-child"></div><div class="sk-circle3 sk-child"></div><div class="sk-circle4 sk-child"></div><div class="sk-circle5 sk-child"></div><div class="sk-circle6 sk-child"></div><div class="sk-circle7 sk-child"></div><div class="sk-circle8 sk-child"></div><div class="sk-circle9 sk-child"></div><div class="sk-circle10 sk-child"></div><div class="sk-circle11 sk-child"></div><div class="sk-circle12 sk-child"></div></div></div></div></form></div>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/joomla-module-edit.html",'<form role=form name=joomlaModuleEditForm><div class=form-group><label for=module>Joomla Module</label><select name=module data-ng-model=config.module data-ng-options="module as module for module in joomlaModuleEdit.modules"><option disabled selected data-ng-required=true>Select Module</option></select></div></form>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/joomla-module.html",'<div><div class="alert alert-info" ng-if=!config.module>Please select a module in the widget configuration</div><div class=joomla-module data-ng-bind-html=joomlaModule.renderedHtml data-ng-if=config.module></div></div>'),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/timeline.html","<div style=\"height: {{timeline.config.height}}px !important\"><timeline><timeline-event ng-repeat=\"event in timeline.events\"><timeline-badge class=actor-avatar><img class=img-responsive data-ng-src={{event.actor.avatar}} alt={{event.actor.first_name}}></timeline-badge><timeline-panel class={{event.badgeClass}}><timeline-heading data-ng-switch data-on=event.app><span class=pull-right am-time-ago=\"event.created | amUtc\"></span> <span class=title-header data-ng-switch-when=groups.wall>{{(event.actor.user_id==timeline.currentUser.user_id) ? \"You\" : event.actor.first_name}} posted a status.<h4 data-ng-bind-html=event.title></h4></span> <span class=title-header data-ng-switch-when=groups.jobpost>{{event.actor.first_name}} posted a job.<h4 data-ng-bind-html=event.title></h4></span> <span class=title-header data-ng-switch-when=groups.join><ng-pluralize count=event.actors.length when=\"{ '0': '', '1': '{{event.actors[0].first_name}} has joined the company.', '2': '{{event.actors[0].first_name}} and {{event.actors[1].first_name}} have joined the company.', 'one': '{{event.actors[0].first_name}} and {{event.actors[1].first_name}} and one other have joined the company.', 'other': '{{event.actors[0].first_name}} and {{event.actors[1].first_name}} and {} other have joined the company.' }\" offset=2></ng-pluralize></span> <span class=title-header data-ng-switch-when=videos>{{event.actor.first_name}} posted a video.<br><h5><a data-ng-href={{event.params.video_url}}>Link</a> to video.</h5></span> <span class=title-header data-ng-switch-when=photos>{{event.actor.first_name}} posted a photo.<br><h5><a data-ng-href={{event.params.photo_url}}>Link</a> to photo.</h5></span> <span class=title-header data-ng-switch-when=events>{{event.actor.first_name}} posted an event.<br><h5><a data-ng-href={{event.params.event_url}}>Link</a> to event.</h5></span></timeline-heading><p data-ng-bind-html=event.content></p></timeline-panel></timeline-event></timeline></div>"),e.put("{widgetsPath}/jb-zconnect-widget-company/src/templates/top-jobs.html",'<div style="height: {{topJobs.config.height}}px !important;overflow: auto"><table class="table table-striped table-responsive"><tr><th>Position</th><th class=text-center>Applicants</th></tr><tr data-ng-repeat="job in topJobs.data"><td data-ng-bind=job.job_title></td><td class=text-center data-ng-bind=job.total></td></tr></table></div>')}]),angular.module("jb-zconnect-widget-company").service("topJobsService",["$http","$q","jbWidget",function(e,t,o){var a=this,n=o.apiRoot;a.mostApplied=function(o,a,s,i,l){var c=t.defer(),r=n+"/employer/"+o+"/company/"+a+"/job/listWithApplicants?callback=JSON_CALLBACK";return s&&(r+="&limit="+s),e.jsonp(r).then(function(e){c.resolve(e.data)},function(e){c.reject(e)}),c.promise}}]),angular.module("jb-zconnect-widget-company").service("timelineService",["$http","$q","dashboard","jbWidget",function(e,t,o,a){var n=a.apiRoot,s=this;s.getTimelineHtml=function(o,a){var s=t.defer();return e.jsonp(n+"/employer/"+o+"/company/"+a+"/activities?callback=JSON_CALLBACK").then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise}}]),angular.module("jb-zconnect-widget-company").service("joomlaModuleService",["$http","$q","dashboard","jbWidget",function(e,t,o,a){var n=a.apiRoot,s=this;s.getModules=function(){var o=t.defer();return e.jsonp(n+"/module?callback=JSON_CALLBACK").then(function(e){o.resolve(e.data.data)},function(e){o.reject(e)}),o.promise},s.getModule=function(o){var a=t.defer();return e.get(n+"/module?name="+o,{headers:{"Content-Type":"text/html"}}).then(function(e){a.resolve(e.data.data?e.data.data:e.data)},function(e){a.reject(e)}),a.promise}}]),angular.module("jb-zconnect-widget-company").service("jobPostService",["$http","$q","dashboard","jbWidget","Upload","$resource",function(e,t,o,a,n,s){var i=a.apiRoot,l=this;l.api=s(i+"/employer/:id/company/:companyid/job?social=1"),l.save=function(e,t,o){return this.api.save({id:e,companyid:t},o).$promise},l.uploadPhoto=function(e,t,o,a){var s={};return s.photo=a,n.upload({url:Zconnected.apiUrl+"/employer/"+e+"/company/"+t+"/job/"+o+"/upload",data:s})}}]),angular.module("jb-zconnect-widget-company").service("jbWidget",function(){var e=this;return e.apiRoot="//jobsglobal.dev/api/v1",e.user={},e.company={},e._DEBUG=!1,e.siteName="jobsglobal.dev",e.setSiteName=function(t){return e.siteName=t,e},e.setDebugMode=function(t){return e._DEBUG=t,e},e.setUser=function(t){return e.user=t,e},e.setCompany=function(t){return e.company=t,e},e.setApiRoot=function(t){return e.apiRoot=t,e},e}),angular.module("jb-zconnect-widget-company").service("generalStatsService",["$http","$q","jbWidget",function(e,t,o){var a=this,n=o.apiRoot;a.job=function(o,a){var s=t.defer();return e.jsonp(n+"/employer/"+o+"/company/"+a+"/job/stats?callback=JSON_CALLBACK").then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise},a.applicant=function(o,a){var s=t.defer();return e.jsonp(n+"/employer/"+o+"/company/"+a+"/applicant/stats?callback=JSON_CALLBACK").then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise}}]),angular.module("jb-zconnect-widget-company").service("dropCvService",["$http","$q","jbWidget",function(e,t,o){var a=this,n=o.apiRoot;a.parseCV=function(o){var a=t.defer();return e({method:"POST",url:n+"/cv/parse",headers:{"Content-Type":"multipart/form-data"},data:{fileToUpload:o},transformRequest:function(e,t){var o=new FormData;angular.forEach(e,function(e,t){o.append(t,e)});var a=t();return delete a["Content-Type"],o}}).success(function(e){a.resolve(e.data)}).error(function(e){a.rejectd(e)}),a.$promise}}]),angular.module("jb-zconnect-widget-company").service("applicantStatsService",["$http","$q","dashboard","jbWidget",function(e,t,o,a){var n=a.apiRoot,s=this;s.getStats=function(o,a){var s=t.defer();return e.jsonp(n+"/employer/"+o+"/company/"+a+"/applicant/stats?callback=JSON_CALLBACK").then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise},s.getCount=function(o,a){var s=t.defer();return e.jsonp(n+"/employer/"+o+"/company/"+a+"/applicant/count?callback=JSON_CALLBACK").then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise}}]),angular.module("jb-zconnect-widget-company").service("adsService",["$http","$q","dashboard","jbWidget",function(e,t,o,a){var n=a.apiRoot,s=this;s.getAll=function(){var o=t.defer();return e.jsonp(n+"/ads?callback=JSON_CALLBACK").then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise}}]),angular.module("jb-zconnect-widget-company").controller("TopJobsCtrl",["config","topJobsService","jbWidget",function(e,t,o){var a=this;a.data=[],a.config=e,t.mostApplied(o.user.user_id,o.company.id,o.limit).then(function(e){o._DEBUG&&console.log(e),a.data=e.data},function(e){o._DEBUG&&console.log(e)})}]),angular.module("jb-zconnect-widget-company").controller("TimelineCtrl",["config","timelineService","jbWidget",function(e,t,o){var a=this;a.config=e,a.currentUser=o.user,a.animateElementIn=function(e){e.removeClass("hidden"),e.addClass("animated fadeInUp")},a.animateElementOut=function(e){e.addClass("hidden"),e.removeClass("animated fadeInUp")},t.getTimelineHtml(o.user.user_id,o.company.id).then(function(e){o._DEBUG&&console.log(e),a.events=e.data},function(e){o._DEBUG&&console.log(e)})}]),angular.module("jb-zconnect-widget-company").controller("JoomlaModuleCtrl",["config","joomlaModuleService","jbWidget",function(e,t,o){var a=this;e.module&&t.getModule(e.module).then(function(e){o._DEBUG&&console.log(e),a.renderedHtml=e},function(e){o._DEBUG&&console.log(e)})}]).controller("JoomlaModuleEditCtrl",["joomlaModuleList",function(e){console.log(e);var t=this;t.modules=e}]),angular.module("jb-zconnect-widget-company").controller("JobPostCtrl",["config","jbWidget","$q","jobPostService","$rootScope","resourceService",function(e,t,o,a,n,s){var i=this;i.config=e,i.loader=!1,i.jobImages=[],i.siteName=t.siteName,i.company=t.company;var l="index.php?option=com_zconjobs&view=jobs&layout=details&company=<%= company %>&id=<%= uniqueId %>",c=n._(l).template();i.expRange=n._(51).range(),i.expRange.shift(),i.currentUser=t.user,i.newJobs=[],s.currencyList.get().then(function(e){i.currencies=e},function(e){t._DEBUG&&console.log(e)}),s.industryList.get().then(function(e){i.industries=e},function(e){t._DEBUG&&console.log(e)}),s.countryList.get().then(function(e){i.countries=e},function(e){t._DEBUG&&console.log(e)}),i.uploadJobPhoto=function(e,o){a.uploadPhoto(i.currentUser.user_id,t.company.id,o.id,o.image).then(function(e){o.image=e.data.data},function(e){t._DEBUG&&console.log(e)})},i.resizeOptions=function(e){console.log(e)},i.saveJobPosts=function(e){if(e.$valid){i.loader=!0;var n=[];console.log(i.newJobs),i.newJobs.forEach(function(e){e.industry=i.jobsLocation.industry.description,e.country=i.jobsLocation.country.nicename,i.jobsLocation.state&&(e.state=i.jobsLocation.state.name||""),i.jobsLocation.city&&(e.city=i.jobsLocation.city.name||""),console.log(e),n.push(a.save(i.currentUser.user_id,t.company.id,e))}),o.all(n).then(function(e){console.log(e),n=[];for(var t=0;t<e.length;t++){var o=i.newJobs[t],a=e[t];o.id=a.data;var s=i.jobImages[t];i.uploadJobPhoto(s,o)}i.newJobs=[],i.addPosition(),i.loader=!1,i.newJobs=[{}],i.msg="Successfully posted job.",i.showMessage=!0},function(e){t._DEBUG&&console.log(e)})}else t._DEBUG&&console.log(e.$error)},i.getStates=function(e){s.stateList.get(e.id).then(function(e){i.states=e},function(e){t._DEBUG&&console.log(e)})},i.getCities=function(e){s.cityList.get(i.jobsLocation.country.id,e.id).then(function(e){i.cities=e},function(e){t._DEBUG&&console.log(e)})},i.addPosition=function(e){s.uniqId.get().then(function(t){if(t.$resolved){var o=t.data,a=c({company:i.companyName,uniqueId:o}),n={id:o,url:a,fullUrl:"http://"+i.siteName+"/"+a,image:"/components/com_media/img/job-default-logo.png"};e&&e.$valid?i.newJobs.push(n):i.newJobs.push(n)}},function(e){i.msg="Job posting failed. Please try again later.",i.showMessage=!0,i.hasError=!0,t._DEBUG&&console.log(e)})},i.cancelJobPost=function(){i.newJobs=[],i.addPosition()},i.closeMessage=function(){i.showMessage=!1,i.hasError=!1,i.msg=""}}]),angular.module("jb-zconnect-widget-company").controller("GeneralStatsCtrl",["generalStatsService","config","jbWidget",function(e,t,o){var a=this;a.config=t,a.options={chart:{type:"lineChart",height:t.height,margin:{top:20,right:20,bottom:40,left:55},useInteractiveGuideline:!0,dispatch:{},xAxis:{axisLabel:"Date (MM-DD-YYYY)",showMaxMin:!1,staggerLabels:!0,tickFormat:function(e){return moment.unix(e).format("MM-DD-YYYY")}},yAxis:{axisLabel:"Count",axisLabelDistance:-10},x:function(e){return moment(e.date).unix()},y:function(e){return parseInt(e.count)}}},a.data=[],e.applicant(o.user.user_id,o.company.id).then(function(e){o._DEBUG&&console.log(e),a.data.push({key:"Applicants",values:e.data})},function(e){o._DEBUG&&console.log(e)}),e.job(o.user.user_id,o.company.id).then(function(e){o._DEBUG&&console.log(e),a.data.push({key:"Jobs",values:e.data})},function(e){o._DEBUG&&console.log(e)})}]),angular.module("jb-zconnect-widget-company").controller("DropCvCtrl",["config","dropCvService","$log","jbWidget",function(e,t,o,a){var n=this;n.config=e;var s=a.apiRoot;n.dzAddedFile=function(e){o.log(e)},n.dzError=function(e,t){o.log(t)},n.dzSuccess=function(){console.log(argument)},n.dropzoneConfig={init:function(){},parallelUploads:1,maxFileSize:5,url:s+"/signup/upload/cv",method:"post",filesizeBase:1024,paramName:"fileToUpload",uploadMultiple:!1,addRemoveLinks:!0,clickable:!0,createImageThumbnails:!0,maxThumbnailFilesize:.5,thumbnailWidth:100,thumbnailHeight:100,dictDefaultMessage:null,dictFallbackMessage:null,dictFallbackText:null,dictInvalidFileType:null,dictFileTooBig:null,dictResponseError:null,dictCancelUpload:"Cancel",dictCancelUploadConfirmation:"Are you sure you want to cancel upload?",dictRemoveFile:"Remove",dictMaxFilesExceeded:null}}]),angular.module("jb-zconnect-widget-company").controller("ApplicantStatsCtrl",["config","applicantStatsService","jbWidget",function(e,t,o){var a=this;a.config=e,a.options={chart:{type:"lineChart",height:e.height,margin:{top:20,right:20,bottom:40,left:55},useInteractiveGuideline:!0,duration:1e3,clipEdge:!0,stacked:!1,dispatch:{},xAxis:{axisLabel:"Date (MM-DD-YYYY)",showMaxMin:!1,staggerLabels:!0,tickFormat:function(e){return moment.unix(e).format("MM-DD-YYYY")}},yAxis:{axisLabel:"Count",axisLabelDistance:-10},x:function(e){return moment(e.date).unix()},y:function(e){return parseInt(e.count)}}},a.data=[],t.getStats(o.user.user_id,o.company.id).then(function(e){a.data.push({key:"Applicants",values:e.data}),o._DEBUG&&console.log(e)},function(e){o._DEBUG&&console.log(e)})}]),angular.module("jb-zconnect-widget-company").controller("AdsCtrl",["config","adsService","jbWidget",function(e,t,o){var a=this;a.config=e,t.getAll().then(function(e){o._DEBUG&&console.log(e),a.list=e},function(e){o._DEBUG&&console.log(e)})}])}(window);